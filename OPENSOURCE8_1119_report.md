# 시스템 설계서     
-개발 배경
때는 바야흐로 정보의 홍수 시대이다. 이러한 흐름은 국가, 기업, 개인에게 큰 변화를 가져오고 있다. 수많은 정보 사이에서 우리는 가짜 정보들을 걸러내고 우리에게 최적화 된 정보만을 골라 내야한다. 본인에게 필요한 정보를 받아들이지 못한다면 경쟁 사회에서 밀려 도태될 수밖에 없다. 도태되지 않기 위해서는 우리는 어떻게 해야 할까? 우리는 쉬우면서도 빠르게 정보에 접근하면서 사용자에게 최적화된 정보를 찾을 방법을 구상해보았다. 앞서 나온 방법으로는 우리는 인공지능과 빅데이터 기술을 생각해보았다. 인공지능과 빅데이터 기술은 굉장히 빠르게 발전되어 다양한 학습방법을 통해 발전되어가고 있다. 따라서 우리가 학습만 시켜준다면 우리의 입맛대로 설정하여 사용자들에게 쉬우면서 빠르고 정확한 정보 전달이 가능하다고 판단하였다. 또한 구글과 네이버 등에서 제공하는 다양한 API를 통해서 데이터를 수집하여 우선적으로 데이터를 걸러낼 생각이다. 
방법은 찾았으니 이제는 최적화시킬 데이터를 선정해야 한다. 우리는 활용할 데이터의 양이 많으면서 데이터의 검색이 어려운 사진과 동영상을 선정했다. 하지만 사진은 정적인 데이터 이기 때문에 각도에 따라 데이터의 식별이 정확하지 않아 정보를 읽는 데 어려움이 있다. 우리는 어려움을 해결하고자 동영상 데이터를 활용하기로 했다. 동영상 데이터는 사진에 비해서 용량을 많이 차지하고 있어 큰 용량을 감당할 저장소와 빠른 인터넷 속도가 필요하다. 과거에 비해 현재는 빠른 인터넷 속도와 큰 용량의 데이터를 담을 수 있는 여러 서비스가 제공되고 있다. 이러한 기술의 발전을 통해 다양한 서비스들이 인기를 끌고 있다. 최근 OTT 서비스, 유튜브 등의 성장은 동영상 데이터를 꾸준히 생산하고 있다. 앞서 말했듯이 정보를 찾는데 어려우면서 부족할 일 없는 데이터로 동영상이 알맞았다.
가장 진보된 기술인 인공지능, 빅데이터를 통해 동영상의 데이터를 분석하는 기술을 제공하여 다양한 사용자들이 정보를 얻는데 불편함이 없게 하는 것이 본 서비스의 목적이다.


-가정 (기대효과/예상결과)
세계에는 유명한 연예인, 영화배우 심지어는 대기업 회장까지 무엇인가 입고, 쓰고, 신고 나오면 얼마 지나지 않아 화제가 되고 동나는 현상이 있다. 특히 유행에 민감한 우리나라는 이러한 정보를 가져오는데 많은 관심이 있을 것으로 예상한다. 이러한 점들은 우리 서비스의 사용자를 늘릴 수 있으며 관련 데이터를 효과적으로 모아서 더욱더 발전한 서비스를 제공할 수 있을 것으로 예상한다.
그뿐만 아니라 개인이나 소매점, 작은 기업 같은 곳은 지금의 정보 홍수 시대에서 본인들에게 맞는 맞춤형 정보를 분류하고 찾아내기 쉽지 않으리라고 예상한다. 경쟁 사회에서 정보의 뒤처짐은 경쟁에서 뒤처진다는 것을 이야기한다. 정보를 선점한 개인, 기업 등은 경쟁에서 우위를 차지할 수 있다. 이러한 경쟁심은 우리 서비스를 사용하게 하는 데 효과가 있을 것이다. 서비스 사용자가 늘어날수록 챗봇의 성능은 향상되고 인기 있는 데이터들을 빠르게 제공함으로써 서비스의 발전을 이끌 것이다.
우리 서비스는 쉬운 접근, 효과적인 성능을 통해 소비자들에게 질 좋은 정보를 제공한다. 또한, 사용자들이 직접 사용한 데이터를 수집하여 데이터의 정확도와 접근속도를 높일 것이다.



1.2	유사서비스 및 차별화
우리가 설계한 서비스와 비슷한 서비스에는 여러 가지가 있지만 그 중에서도 많이 쓰이고 있는 네이버 스마트렌즈와 비교해 보고자 한다.
네이버의 스마트렌즈는 딥러닝 기반의 이미지 분석기술로, 키워드로 검색하는 것이 아닌 이름이나 키워드를 몰라도 관련 정보를 찾을 수 있는 이미지 검색 서비스이다. 여기서 딥러닝이란 컴퓨터가 데이터를 분석하고 스스로 학습하는 과정을 거쳐 패턴을 인식하는 능력을 갖추어 사물이나 데이터를 군집화하거나 분류하는, 컴퓨터가 사람처럼 생각하고 배울 수 있도록 하는 기술이다. 이 서비스는 사용자가 검색하는 이미지와 관련해 동일한 정보부터 유사한 정보가 제공되며 특화된 세부 정보까지 보여준다. 또한 스마트렌즈는 '검색어 추가' 기능을 통해 이미지 촬영 후 텍스트를 추가 입력해 원하는 정보의 범위를 구체화할 수 있다. 이는 우리가 설계한 제품과 비슷하다고 볼 수 있다. 예를 들면, 특정 신발 이미지를 검색한 후 텍스트로 색상, 디자인, 소재 등 검색어/키워드를 더해 검색하고자 하는 정보의 범위를 좁힐 수 있다. 또한, 제품을 촬영하게 되면 촬영한 제품 이미지와 유사한 이미지를 검색해 준다. 단순히 비슷한 이미지만 찾아주는 것이 아닌 쇼핑 정보도 함께 보여주기 때문에 가격 비교에도 용이하다.
하지만 이러한 기술에도 단점은 있다. 위에서 설명한 스마트렌즈의 경우, 촬영한 이미지에 대해 찾고자 하는 정보가 관련성과 정확성 면에서 아직 미흡하고 오답이 발생하게 된다. 그 뿐만 아니라 찾고자 하는 제품의 데이터가 적거나 애매하게 생긴 제품은 인식이 잘되지 않는다. 
예를 들자면 약통을 촬영하여 검색했을 때 정확한 정보를 얻기 힘들다고 한다. 약통은 대부분 모양이 동일하고 애매하기 때문에 우리가 찾고자 하는 정보가 나오지 않을 수 있다. 하지만 여기서 우리가 설계한 서비스와의 차별성이 드러난다. 우리는 한 면의 사진만으로 검색하는 것이 아닌, 동영상을 촬영하여 검색하기 때문에 찾고자 하는 제품의 전체적인 모양과 작은 특징들도 영상에 담겨 검색할 수 있다. 그렇기 때문에 이미지만으로 검색하는 것보다 더 정확한 정보를 얻을 수 있을 것이다.




1.3	서비스 설명
다들 한 번쯤은 원하는 상품의 세부적인 정보를 찾기 위해 여러 부분을 반복해서 탐색하며 시간을 낭비했던 경험이 있을 것이다. 정보 전달 챗봇은 이러한 사용자의 정보 검색을 보조하는 방법을 제안한다. 정보 전달 챗봇은 5~10초 사이의 영상을 입력받아 그에 맞는 키워드를 생성해 사용자에게 제공하고, 사용자에게 키워드를 선택받거나 직접 입력을 받아 정보를 제공하는 서비스이다.
예를 들어 사용자가 길거리를 지나가다 마음에 드는 스타일의 옷을 발견했을 때 사용자는 영상을 찍어 옷의 질감과 형태를 챗봇에게 전달한다. 챗봇은 전달받은 영상을 통해 영상 속 제품이 무엇인지, 혹은 상품의 모델명이 찍혔을 경우 이미지의 문자를 디지털화하는 등의 분석 과정을 통해 옷과 같은 키워드를 생성한다. 이후에 생성된 키워드들과 연관된 키워드를 사용자에게 제공하고 선택하도록 한다. 사용자가 선택한 키워드가 상품일 경우 해당 상품을 사는 쇼핑몰 사이트로 연결시켜주고, 쇼핑몰을 원하는 게 아닌 정보 수집이 목표인 경우 챗봇의 검색 모듈을 통해 정보를 사용자에게 제공한다. 만약, 사용자에게 제공한 키워드 중 원하는 키워드가 없을 경우 추가 검색 기능을 제공해 사용자에게 추가적으로 입력을 받아 그에 맞는 정보를 전달한다. 이처럼 사용자는 정보 전달 챗봇을 통해 마음에 드는 상품의 모델명을 힘들게 찾아보고, 검색창에 일일이 입력해 검색해야 하는 불편함을 덜어낼 수 있다.




본 팀이 고안한 AI정보전달 챗봇의 주요 기능은 다음과 같다.
 2.1.1 챗봇 구현
 사용자가 원하는 영상을 챗봇 APP에 업로드 하면 챗봇 데이터 생성 모듈을 통해 영상에서 추출한 음성 파일과 프레임 파일을 생성한다. 음성 파일은 STT서비스에 의해 텍스트로 추출되고, khaiii와 형태소 분석 및 BERT(koBERT)에 의해 핵심 문장, 단어를 생성한다. 또한 프레임은 OpenCV에 의해 이전 프레임과 차이값( |현재 프레임 – 이전 프레임|)이 기준값 보다 큰 프레임만을 저장하여 키워드 생성 모듈로 넘긴다.

2.1.2 키워드 리스트 생성 모듈
챗봇에서 받아온 프레임을 jpg, png 파일로 변환시킨 뒤, Google Cloud API와 Tesseract OCR을 통해 이미지에서 키워드를 추출한다.
먼저, 이미지 파일 Google Cloud API를 활용하여 키워드를 NAVER 연관검색어 API에 전달한다. 또한 Google Cloud API의 반환 값이 정확도가 낮을 것은 경우를 대비하여 Tesseract OCR로 이미지에 있는 텍스트를 모두 추출한다. 그리고 추출한 텍스트를 keyBERT를 이용하여 키워드를 추출하고 이 키워드를 NAVER 연관검색어 API에 전달한다.
키워드를 받아온 NAVER 연관검색어 API를 통해 유사어나, 관련된 단어들을 생성한다. 이후 키워드를 포함하여 유사어 리스트들을 챗봇에 전달한다. 사용자는 이 리스트들을 보고 자신의 의도에 가장 적합한 리스트를 선택한다.

2.1.3 검색 모듈
사용자가 선택한 리스트에 따라 사용하는 오픈소스가 다르다.
사용자가 선택한 항목이 쇼핑몰이면 NAVER 쇼핑 API를 사용한다. 해당 물품과 유사한 쇼핑몰을 검색하여 상위 5개의 사용자에게 쇼핑몰을 전달한다.
그외의 항목은 GPT-NEO와 elasticsearch를 사용한다. 사용자가 문장을 받으면 답변에 해당하는 문장을 사용자에게 전달한다. 이때 정확한 값을 추출하기 위해 khaiii와 keyBERT를 사용하여 단어검색도 가능하도록 한다.
