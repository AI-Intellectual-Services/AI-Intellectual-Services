# 시스템 설계서     
Elasticsearch

Elasticsearch는 Apache Lucene(아파치 루씬) 기반의 분산 검색 엔진이다. Elasticsearch를 통해 Java에서 개발한 정보 검색용 라이브러리인 루씬 라이브러리를 단독으로 사용할 수 있으며, 방대한 양의 데이터를 신속하게 저장, 검색, 분석을 수행할 수 있다. Elasticsearch는 아파치 라이선스 조항에 의거하여 오픈소스로 출시되어 있다. 공식 클라이언트들은 자바(Java), C#닷넷(.NET), PHP, 파이썬(Python), 그루비(Groovy) 등 수많은 언어로 이용이 가능하다.

Elasticsearch는 여러 문서에서 특정 문자열을 검색하는 분산처리를 통해 실시간성으로 빠른 검색이 가능하다. 특히 기존의 데이터로 처리하기 힘든 대량의 텍스트와 음성과 같은 정해진 규칙이 없는 비정형 데이터 검색이 가능하며 전문 검색(full text) 검색과 구조 검색 모두를 지원한다. 또한 기본적으로는 검색엔진이지만 MongoDB나 Hbase와 같은 대용량 스토리지로도 활용이 가능하다는 특징을 가진다.

Elasticsearch의 동작 과정은 첫째, 로그, 시스템, 메트릭, 웹 애플리케이션 등 다양한 소스로부터 원시 데이터가 Elasticsearch로 흘러들어간다. 둘째, Elasticsearch는 이를 검색 시간을 단축할 수 있는 Inverted Index(역 인덱스) 구조를 만들어 수집된 정보를 색인(indexing) 한다. 여기서 역색인이란 일반적인 색인의 목적은 ‘문서의 위치’에 대한 index를 만들어서 빠르게 그 문서에 접근하고자 하는 것인데, 역색인은 반대로 ‘문서 내의 문자와 같은 내용물’의 매핑 정보를 색인 해놓는 것이다. 따라서 역색인 구조를 통해서 특정 단어를 찾을 때 문서 전체에서 찾는 것이 아닌, 단어가 포함된 특정 문서의 위치를 알아내어 빠르게 결과를 찾아낼 수 있다. 마지막으로 사용자의 질의를 JSON형식으로 입력받아 색인기에서 저장한 역색인 구조에서 일치하는 문서를 찾아 JSON 형식으로 결과로 반환한다.

Elasticsearch는 현재 웹 문서 검색, 소셜 데이터 분석, 쇼핑몰 검색 등에 활용되고 있으며, 빅데이터 분석/처리 및 MSA 환경의 로그 모니터링 등에도 활용되고 있다. 삼성 SDS는 Elasticsearch 기반으로 Chatbot Birty를 구축, 무료 여행 가이드 어플리케이션 Triple에서는 Elastic Cloud를 메인 플랫폼으로 사용하는 등 여러 분야에서 Elasticsearch를 사용하고 있다.
